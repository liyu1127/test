<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>购物车</title>
		<script src="http://unpkg.com/vue@next"></script>
	</head>
	<body>
		<div id="app">
			<table border="1">
				<thead>
					<tr>
						<th>序号</th>
						<th>商品名称</th>
						<th>价格</th>
						<th>数量</th>
						<th>操作</th>
					</tr>
				</thead>
				<tbody>
					<tr v-for="(pro,i) in products">
						<td>{{i+1}}</td>
						<td>{{pro.proName}}</td>
						<td>{{pro.proPrice}}</td>
						<td>
							<button type="button" @click="pro.proNum--" v-bind:disabled="pro.proNum=='1'?true:false">-</button>
								{{pro.proNum}}
							<button type="button" @click="pro.proNum++" v-bind:disabled="pro.proNum=='10'?true:false">+</button>
						</td>
						<td>
							<button type="button" @click="removeDate(index)">删除</button>
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td colspan="5"><p>{{total}}</p></td>
					</tr>
				</tfoot>
			</table>
			
		</div>
		<script type="text/javascript">
			Vue.createApp({
				data(){
					return{
						products:[
							{
								proId:1001,
								proName:"华为",
								proPrice:5000,
								proNum:1
							},
							{
								proId:1002,
								proName:"小米",
								proPrice:4000,
								proNum:1
							},
							{
								proId:1003,
								proName:"三星",
								proPrice:2000,
								proNum:1
							},
							{
								proId:1004,
								proName:"苹果",
								proPrice:6000,
								proNum:1
							}
						]
					}
				},
				computed:{
					total(){
						var price=0;
						for(i in this.products){
							p=this.products[i]
							price=price+p.proNum*p.proPrice;
						}
						return price;
					}
				},
				methods:{
					removeDate(index){
						this.products.splice(index,1)
					}
				}
			}).mount("#app")
		</script>
	</body>
</html>
